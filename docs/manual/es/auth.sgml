<sect>Configuraci贸n de la Autenticaci贸n
<p>
Las secciones siguientes en el archivo de configuraci贸n pueden ser utilizadas para configurar la Autentificaci贸n.

<sect1>Section &lsqb;Gatekeeper::Auth&rsqb;
<label id="gkauth">
<p>
Esta secci贸n define los mecanismos de autenticaci贸n para el gatekeeper.

<descrip>
<tag/Sintaxis:/
<tscreen><verb>
authrule=actions

 <authrule> := SimplePasswordAuth | AliasAuth | PrefixAuth | RadAuth | RadAliasAuth | ...
 <actions>  := <control>[;<ras>|<q931>,<ras>|<q931>,...]
 <control>  := optional | required | sufficient
 <ras>      := GRQ | RRQ | URQ | ARQ | BRQ | DRQ | LRQ | IRQ
 <q931>     := Setup | SetupUnreg

</verb></tscreen>
</descrip>
Una regla puede resultar en uno de los siguientes tres c贸digos: ok, fail, pass.
<itemize>
<item><tt/ok/ - La petici贸n es autenticada por este m贸dulo.
<item><tt/fail/ - La autenticaci贸n falla y debe ser rechazada.
<item><tt/next/ - La regla no puede determinar la petici贸n.
</itemize>
Hay tambi茅n tres maneras de controlar una regla:
<itemize>
<item><tt/optional/ - Si la regla no puede determinar la petici贸n, esta es pasada a la siguiente regla.
<item><tt/required/ - La petici贸n debe ser autenticada por este m贸dulo, o  茅sta ser铆a rechazada. La petici贸n autenticada entonces ser铆a pasada hacia la siguiente regla.
<item><tt/sufficient/ - Si la petici贸n es autenticada, 茅sta es aceptada, o 茅sta ser铆a rechazada. Esto es, la regla determina la suerte de la petici贸n. Ninguna regla debe ser puesta despu茅s de  una sufficient rule, puesto que no tendr谩 ning煤n efecto.
</itemize>

M贸dulos soportados actualmente:
<itemize>
<item><tt>SimplePasswordAuth/SQLPasswordAuth</tt>
<p>
Estos m贸dulos revisan los campos <bf/tokens/ or <bf/cryptoTokens/ de un mensaje RAS.
Los tokens deben contener al menos un generalID y password.
Para tokens <bf/cryptoTokens/, <bf/cryptoEPPwdHash/ hashed por MD5 simple y
tokens <bf/nestedcryptoToken/ hashed por HMAC-SHA1-96 (libssl debe ser instalada!)
hay soporte actualmente. Para tokens <bf/tokens/ hashed por CAT (Cisco Access Token)
y username/password en texto claro son soportados actualmente.
El ID y password son le铆dos desde la secci贸n <ref id="password" name="[SimplePasswordAuth]">,
una base de datos SQL.
para los m贸dulos <tt/SimplePasswordAuth/, <tt/SQLPasswordAuth/ and <tt/LDAPPasswordAuth/
respectivamente. El m贸dulo <tt/MySQLPasswordAuth/
es soportado tambi茅n.

<item><tt>AliasAuth/SQLAliasAuth</tt>
<p>
Este m贸dulo puede ser utilizado solamente para auntenticar RegistrationRequest (RRQ).
La IP de un endpoint con un alias dado deben corresponderse con un patr贸n espec铆fico.
Para <tt/AliasAuth/ el patr贸n est谩 definido en la secci贸n 
<ref id="rrqauth" name="[RasSrv::RRQAuth]">.
Para <tt/SQLAliasAuth/, el patr贸n es recuperado desde una base de datos SQL, 
que est谩 definida en la secci贸n <ref id="sqlaliasauth" name="[SQLAliasAuth]">.

<item><tt>PrefixAuth</tt>
<p>
Originalmente conocida como<tt/GkAuthorize/.
La direcci贸n IP o alias de una petici贸n con un prefijo dado deben corresponderse o emparejar con un patr贸n 
espec铆fico. Ver la secci贸n <ref id="prefixauth" name="[PrefixAuth]"> para m谩s detalle.
Actualmente el m贸dulo puede autorizar solamente
AdmissionRequest (ARQ) y LocationRequest (LRQ).

<item><tt>RadAuth</tt>
<p>
Provee autenticaci贸n basada en el esquema de seguridad H.235 
username/password. Autentica RRQ, ARQ y Q.931 Setup mediante servidores
RADIUS remotos. ste pasa al Servidor RADIUS los usernames y passwords
extra铆dos desde los CAT (Cisco Access Tokens) <bf/tokens/ que viajan
dentro de los paquetes RRQ, ARQ o Setup. Por consiguiente si sus endpoints no
soportan CATs o usted no necesita el esquema de autenticaci贸n basado en usernames/password
asignados individualmente - este m贸dulo no le servir谩
(pero puede chequear adem谩s el m贸dulo <tt/RadAliasAuth/).
Ver la secci贸n <ref id="radauth" name="[RadAuth]"> para m谩s.

<item><tt>RadAliasAuth</tt>
<p>
Provee autenticaci贸n basada en alias de endpoints 
 y/o direcciones IP con servidores remotos RADIUS.
Esto no necesita ning煤n <bf/tokens/ H.235 dentro de los mensajes RAS,
de esta manera esto puede ser utilizado sobre una amplia variedad de sistemas de igual manera como <tt/RadAuth/.
Los mensajes RRQ, ARQ y Q.931 Setup pueden ser autentificados utilizando este modulo.
Ver la secci贸n <ref id="radaliasauth" name="[RadAliasAuth]"> para m谩s detalle.

</itemize>
Usted puede adem谩s configurar una regla para chequear solamente algunos mensajes RAS particulares.
El siguiente ejemplo configura <tt/SimplePasswordAuth/ una regla opcional
para chequear mensajes RRQ y ARQ. Si un mensaje RRQ no es chequeado (no contiene
campos <bf/tokens/ or <bf/cryptoTokens/), 茅ste es chequeado por <tt/AliasAuth/.
La regla por defecto es aceptar todas las peticiones.

<descrip>
<tag/Ejemplo 1:/
<tt/SimplePasswordAuth=optional;RRQ,ARQ/<newline>
<tt/AliasAuth=sufficient;RRQ/<newline>
</descrip>

El ejemplo mostrado m谩s abajo autentica todas las llamadas, chequeando los mensajes de se帽alizaci贸n Setup
de una manera detallada, utilizando el m贸dulo RadAliasAuth.

<descrip>
<tag/Ejemplo 2:/
<tt/RadAliasAuth=required;Setup/<newline>
<tt/default=allow/
</descrip>

Este ejemplo chequea los mensajes de registro de endpoints (RRQ) y mensajes de admission de llamadas (ARQ)
por cualquiera de estos dos medios: por medio de username/password (RadAuth) o alias/IP (RadAliasAuth).
Adicionalmente, si la llamada es desde un endpoint no registrado (y por consiguiente
ninguna de las autenticaciones RRQ o ARQ ha sido realizada), La autenticaci贸n con mensajes Setup
usando RadAliasAuth toma lugar (SetupUnreg).

<descrip>
<tag/Ejemplo 3:/
<tt/RadAuth=optional;RRQ,ARQ/<newline>
<tt/RadAliasAuth=required;RRQ,ARQ,SetupUnreg/<newline>
<tt/default=allow/
</descrip>

<sect1>Secci贸n &lsqb;SimplePasswordAuth&rsqb;
<label id="password">
<p>
La secci铆on define el par de userid y password utilizados por
el m贸dulo <tt/SimplePasswordAuth/. Todos los passwords estan encriptados
utilizando la utilidad <tt/addpasswd/.

Modo de uso:
<tscreen><verb>
addpasswd config section userid password
</verb></tscreen>

Opciones:
<itemize>
<item><tt/KeyFilled=123/<newline>
Default: <tt/0/
<p>
Valor por defecto para utilizar un byte de relleno durante la encriptaci贸n/desencriptaci贸n de passwords.

<item><tt/CheckID=1/<newline>
Default: <tt/0/
<p>
Verifica si el alias se corresponde con el ID en los tokens.

<item><tt/PasswordTimeout=120/<newline>
Default: <tt/-1/
<p>
El m贸dulo <tt/SimplePasswordAuth/ y todos sus descendientes mantendr谩n en cach茅
los passwords aut茅nticos. Este campo define el valor del tiempo de cach茅 en segundos
<tt/0/ significa que no se utilizar谩 cach茅 para passwords, mientras que un valor negativo 
significa que la cach茅 nunca expira.
</itemize>

<sect1>Secci贸n &lsqb;SQLPasswordAuth&rsqb;
<label id="sqlpasswordauth">
<p>
Autentica endpoints (H.235 enabled) utilizando passwords almacenadas
en una base de datos SQL. Esta secci贸n define el driver SQL a utilizar,
los par谩metros de connexion a la base de datos y las consultas a utilizar para recuperar passwords.

<itemize>
<item><tt/Driver=MySQL | PostgreSQL/<newline>
Default: N/A
<p>
El driver SQL a utilizar. Actualmente, drivers <tt/MySQL/ and <tt/PostgreSQL/
estan implementados.

<item><tt/Host=DNS[:PORT] | IP[:PORT]/<newline>
Default: <tt/localhost/
<p>
Direcci贸n del host SQL server. Puede estar en la forma de <tt/DNS[:PORT]/ o <tt/IP[:PORT]/.
Como <tt/sql.mycompany.com/ o <tt/sql.mycompany.com:3306/ o <tt/192.168.3.100/.

<item><tt/Database=billing/<newline>
Default: <tt/billing/
<p>
El nombre de la base de datos a la cual se realiza la conexi贸n.

<item><tt/Username=gnugk/<newline>
<p>
El username utilizado para conectarse a la base de datos.

<item><tt/Password=secret/<newline>
<p>
El password utilizado para conectarse a la base de datos.
Si el password no est谩 especificado, un intento de conexi贸n a la base de datos 
sin un password es realizada.
Si <tt/EncryptAllPasswords/ est谩 habilitada, o una variable <tt/KeyFilled/ esta definida
en esta secci贸n, el password esta en forma encriptada y puede ser creado utilizando la 
utilidad <tt/addpasswd/.

<item><tt/CacheTimeout=120/<newline>
Default: <tt/0/
<p>
Este campo define que tiempo el par (alias;password) recuperados desde la base de datos 
estar谩n cacheados en la memoria local. Este valor es expresado en segundos.
<tt/0/ significa no cachear las passwords, mientras que un valor negativo
significa que la cach茅 nunca expira (solamente el comando <tt/reload/ refrescar谩 la cach茅).

<item><tt/MinPoolSize=5/<newline>
Default: <tt/1/
<p>
Define el n煤mero de conexiones activas SQL. Esto permite un mejor rendimiento,
puesto que m谩s de una consulta puede ser ejecutada 
al mismo tiempo. <tt/MinPoolSize=1/ simula un viejo comportamiento, 
cuando el acceso a la base de datos es serializada (una consulta a la vez).

<item><tt/Query=SELECT .../<newline>
Default: <tt>N/A</tt>
<p>
Define la consulta SQL utilizada para recuperar passwords H.235 desde la base de datos. La consulta
es parametrizada, eso significa que el reemplazo de par谩metros es realizado antes de que cada consulta
es ejecutada. Los par谩metros est谩n denotados por cadenas <bf/%1/, <bf/%2/, ...
Especifique %% para insertar un caracter de porcentaje antes de un d铆gito dentro de un string (as铆 <bf/%%1/),
especifique <bf/%{1}/ para permitir expansi贸n dentro de expresiones complejas como <bf/%{1}123/.
Para <tt/SQLPasswordAuth/ se han definido dos par谩metros:
<itemize>
<item><tt/%1/ - El alias actual para el cual se consultara el password
<item><tt/%2/ - El identificador del gatekeeper
</itemize>
<p>
Aqu铆 algunas cadenas de ejemplo:
<tscreen><verb>
SELECT h235password FROM users WHERE alias = '%1' AND active
SELECT h235password FROM users WHERE alias = '%1' AND gk = '%2'
</verb></tscreen>

</itemize>

<sect1>Secci贸n &lsqb;RasSrv::RRQAuth&rsqb;
<label id="rrqauth">
<p>
Especifica la acci贸n sobre los mensajes de recepci贸n (confirm or deny) para el m贸dulo <tt/AliasAuth/.
El primer alias (茅ste ser谩 principalmente un H323ID) del endpoint a ser
registrado es buscado en esta secci贸n. Si un par谩metro es encontrado, el valor sera
aplicado por regla general. Una regla consiste de condiciones separadas por "&".
Un registro es aceptado cuando todas las condiciones coinciden.

<descrip>
<tag/Sintaxis:/
<tscreen><verb>
&lt;authrules&gt; :=  empty  |  &lt;authrule&gt; "&" &lt;authrules&gt;

  &lt;authrule&gt;  := &lt;authtype&gt; ":" &lt;authparams&gt;
  &lt;authtype&gt;  := "sigaddr" | "sigip"
  &lt;autparams&gt; := [!&]*
</verb></tscreen>
</descrip>

La notaci贸n y significado de <tt/&lt;authparams&gt;/ depende de
<tt/&lt;authtype&gt;/:

<itemize>
<item><tt/sigaddr/ - Expresi贸n regular extendida que tiene que corresponderse contra
la representaci贸n ``PrintOn(ostream)'' de la petici贸n.
<p>
Ejemplo:
<tscreen><verb>
sigaddr:.*ipAddress .* ip = .* c0 a8 e2 a5 .*port = 1720.*
</verb></tscreen>

<item><tt/sigip/ - Forma especializada de `<tt/sigaddr/'.
Escribe la direcci贸n ip utilizando la notaci贸n decimal (comunmente utilizada):
``<tt/byteA.byteB.byteC.byteD:port/''.
<p>
Ejemplo:
<tscreen><verb>
sigip:192.168.242.165:1720
</verb></tscreen>

<item><tt/allow/ - Siempre aceptar el alias.

<item><tt/deny/ - Siempre rechazar el alias.

</itemize>

<sect1>Secci贸n &lsqb;SQLAliasAuth&rsqb;
<label id="sqlaliasauth">
<p>
Autentica endpoints utilizando reglas almacenadas en una base de datos
(Las reglas tienen el mismo formato definido en la secci贸n <ref id="rrqauth" name="[RasSrv::RRQAuth]">).
Esta secci贸n define el driver SQL a ser utilizado, los par谩metros de conexi贸n a la base de datoS
y las consultas a utilizar para recuperar los patroneS.

<itemize>
<item><tt/Driver=MySQL | PostgreSQL/<newline>
Default: N/A
<p>
El driver SQL a utilizar. Actualmente, drivers <tt/MySQL/ and <tt/PostgreSQL/
estan implementados.

<item><tt/Host=DNS[:PORT] | IP[:PORT]/<newline>
Default: <tt/localhost/
<p>
Direcci贸n del host SQL server. Puede estar en la forma de <tt/DNS[:PORT]/ o <tt/IP[:PORT]/.
Como <tt/sql.mycompany.com/ o <tt/sql.mycompany.com:3306/ o <tt/192.168.3.100/.

<item><tt/Database=billing/<newline>
Default: <tt/billing/
<p>
El nombre de la base de datos a la cual se realiza la conexi贸n.

<item><tt/Username=gnugk/<newline>
<p>
El username utilizado para conectarse a la base de datos.

<item><tt/Password=secret/<newline>
<p>
El password utilizado para conectarse a la base de datos.
Si el password no est谩 especificado, un intento de conexi贸n a la base de datos 
sin un password es realizada.
Si <tt/EncryptAllPasswords/ est谩 habilitada, o una variable <tt/KeyFilled/ esta definida
en esta secci贸n, el password esta en forma encriptada y puede ser creado utilizando la 
utilidad <tt/addpasswd/.

<item><tt/CacheTimeout=120/<newline>
Default: <tt/0/
<p>
Este campo define que tiempo el par (alias;password) recuperados desde la base de datos 
estar谩n cacheados en la memoria local. Este valor es expresado en segundos.
<tt/0/ significa no cachear las passwords, mientras que un valor negativo
significa que la cach茅 nunca expira (solamente el comando <tt/reload/ refrescar谩 la cach茅).

<item><tt/MinPoolSize=5/<newline>
Default: <tt/1/
<p>
Define el n煤mero de conexiones activas SQL. Esto permite un mejor rendimiento,
puesto que m谩s de una consulta puede ser ejecutada 
al mismo tiempo. <tt/MinPoolSize=1/ simula un viejo comportamiento, 
cuando el acceso a la base de datos es serializada (una consulta a la vez).

<item><tt/Query=SELECT .../<newline>
Default: <tt>N/A</tt>
<p>
Define la consulta SQL utilizada para recuperar alias desde la base de datos. La consulta
es parametrizada, eso significa que el reemplazo de par谩metros es realizado antes de que cada consulta
es ejecutada. Los par谩metros est谩n denotados por cadenas <bf/%1/, <bf/%2/, ...
Especifique %% para insertar un caracter de porcentaje antes de un d铆gito dentro de un string (as铆 <bf/%%1/),
especifique <bf/%{1}/ para permitir expansi贸n dentro de expresiones complejas como <bf/%{1}123/.
Para <tt/SQLPasswordAuth/ se han definido dos par谩metros:
<itemize>
<item><tt/%1/ - El alias actual para el cual se consultara el password
<item><tt/%2/ - El identificador del gatekeeper
</itemize>
<p>Aqu铆 algunas consultas de ejemplo:
<tscreen><verb>
SELECT authrule FROM users WHERE alias = '%1' AND active
SELECT 'sigip:' || host(ip) || port FROM users WHERE alias = '%1'
</verb></tscreen>

</itemize>


<sect1>Secci贸n &lsqb;PrefixAuth&rsqb;
<label id="prefixauth">
<p>
La secci贸n define la regla de autenticaci贸n para el m贸dulo <tt/PrefixAuth/.
Actualmente, solamente ARQs y LRQs pueden ser autorizados por 茅ste m贸dulo.

Primero, un prefijo muy espec铆fico se selecciona de acuerdo al campo <bf/destinationInfo/
de la petici贸n recibida. Entonces la petici贸n es aceptada o rechazada
de acuerdo a la correspondencia de reglas con la netmask m谩s espec铆fica.
Si no se encontraron correspondencias de prefijos,
y la opci贸n <tt/default/ est谩 especificada, la petici贸n es aceptada
o rechazada de acuerdo a eso. De lo contrario
esta es rechazada o pasada al siguiente m贸dulo de autenticaci贸n
de acuerdo a los requerimientos del m贸dulo.

<descrip>
<tag/Formato:/
<tscreen><verb>
prefix=authrule[|authrule|...]
</verb></tscreen>

<tag/Syntax:/
<tscreen><verb>
&lt;authrule&gt; :=  &lt;result&gt; &lt;authrule&gt;

  &lt;result&gt;    := deny | allow
  &lt;authrule&gt;  := [!]ipv4:&lt;iprule&gt; | [!]alias:&lt;aliasrule&gt;
</verb></tscreen>
</descrip>
Donde <tt/&lt;iprule&gt;/ puede ser espec铆ficada en notaci贸n decimal punteada o
en la notaci贸n CIDR, <tt/&lt;aliasrule&gt;/ esta expresada en espreci贸n regular.
Si el signo `<tt/!/' precede la regla, el sigificado es inverso.

<descrip>
<tag/Ejemplo:/
<tscreen><verb>
555=deny ipv4:10.0.0.0/27|allow ipv4:0/0
5555=allow ipv4:192.168.1.1|deny ipv4:192.168.1.0/255.255.255.0
86=deny !ipv4:172.16.0.0/24
09=deny alias:^188884.*
ALL=allow ipv4:ALL
</verb></tscreen>
</descrip>

En esta configuraci贸n, todos los endpoints excepto los de la red <tt>10.0.0.0/27</tt>
est谩n permitidos llamar al prefijo 555 (excepto 5555).
Endpoints desde <tt>192.168.1.0/24</tt> no est谩n permitidos llamar al prefijo 5555,
excepto <tt/192.168.1.1/.
Endpoints que<bf/no/ pertenecen a <tt>172.16.0.0/24</tt> son negados para llamar al prefijo 86.
Endpoints que tienen un alias que empieza con 188884 no est谩n permitidos llamar al
prefijo 09. Todas las otras situaciones estan permitidas.

<sect1>Secci贸n &lsqb;RadAuth&rsqb;
<label id="radauth">
<p>
Esta secci贸n define la configuraci贸n que posibilitan la
autenticaci贸n RADIUS basada en H.235 CATs (Cisco Access Tokens)
presentes en las peticiones RRQ, ARQ RAS y mensajes Q.931 Setup.
<itemize>
<item><tt/Servers=SERVER1[:AUTH_PORT[:ACCT_PORT[:SECRET]]];SERVER2[:AUTH_PORT[:ACCT_PORT[:SECRET]]];.../<newline>
Default: <tt>N/A</tt>
<p>
Los servidores RADIUS a ser utilizados para la autenticaci贸n. La lista puede contener un n煤mero
arbitrario de servidores. El 贸rden de los servidores es importante, porque los servidores
ser谩n interrogados por el m贸dulo RADIUS en el 贸rden dado. Si no se indica informaci贸n del 
puerto, el n煤mero de puerto especificado en <tt/DefaultAuthPort/ ser谩 utilizado. Si tampoco se especifica el secret, 
el shared secret por defecto especificado en <tt/SharedSecret/ es utilizado. 
Los nombres de los servidores pueden ser direcciones IP o nombres DNS.

<descrip>
<tag>Sample <tt/Servers/ lines:</tag>
<tt>Servers=192.168.1.1</tt><newline>
<tt>Servers=192.168.1.1:1645</tt><newline>
<tt>Servers=192.168.1.1:1645:1646:secret1</tt><newline>
<tt>Servers=radius1.mycompany.com:1812</tt><newline>
<tt>Servers=radius1.mycompany.com;radius2.mycompany.com</tt><newline>
<tt>Servers=radius1.mycompany.com:1812:1813:secret1;radius2.mycompany.com:1812:1813:secret2</tt><newline>
</descrip>

<item><tt/LocalInterface=IP_OR_FQDN/<newline>
Default: <tt>N/A</tt>
<p>
Interfaz de red local particular que el cliente RADIUS debe
utilizar para comunicarse con los servidores RADIUS. Este par谩metro
puede ser 煤til en m谩quinas NAT para restringir n煤meros de interfaces
de red utilizados para la comunicaci贸n RADIUS. Por defaul este valor
es vac铆o y permite a la peticione RADIUS ser enviadas a cualquier (el que mejor conviene)
interfaz de red. Si usted no esta seguro de lo que est谩 haciendo, es
mejor dejar esta opci贸n sin establecer.

<item><tt/RadiusPortRange=10000-11000/<newline>
Default: <tt>N/A</tt>
<p>
Por default (si esta opci贸n no est谩 establecida) el cliente RADIUS
asigna puertos din谩micamente seg煤n lo especificado por el sistema operativo.
Si usted desea restringir a cliente RADIUS a utilizar puertos de
un rango particular solamente fije este par谩metro.

<item><tt/DefaultAuthPort=PORT_NO/<newline>
Default: <tt>1812</tt>
<p>
N煤mero de puerto po defecto que ser谩 utilizada para las peticiones de autenticacion RADIUS
(Access-Request packets), if not overriden by <tt/Servers/ attribute.

<item><tt/SharedSecret=SECRET/<newline>
Default: <tt>N/A (empty string)</tt>
<p>
Secret utilizada para autenticar este GnuGk (cliente NAS) con el servidor
RADIUS. Este debe ser un password criptogr谩ficamente fuerte. Este es el valor
por defecto utilizado, si no se coloc贸 un secret espec铆fico en el par谩metro <tt/Servers/.
Si <tt/EncryptAllPasswords/ est谩 habilitada, o la variable <tt/KeyFilled/ est谩 definida
en esta secci贸n, el password est谩 en forma encriptada y deber铆a ser creado utilizando
la utilidad <tt/addpasswd/.

<item><tt/RequestTimeout=TIMEOUT_MS/<newline>
Default: <tt/2000/ (miliseconds)
<p>
Descanso (tiempo en milisegundos) para que el servidor RADIUS responda a una petici贸n
enviada por el GnuGk. Si no se recibe ninguna respuesta dentro de este per铆odo de tiempo,
el siguiente servidor RADIUS es consultado.

<item><tt/IdCacheTimeout=TIMEOUT_MS/<newline>
Default: <tt/9000/ (miliseconds)
<p>
Descanso (tiempo en milisegundos) para que identificadores de 8-bits de la petici贸n RADIUS
sea 煤nica. Si el rango de identificadores de 8-bits se agota dentro de este per铆odo de tiempo
un nuevo socket cliente (socket UDP) es asignado por el m贸dulo RADIUS. Tomemos
el ejemplo: Tenemos aproximadamente 60 RRQs/segundo; despu茅s de 4 segundos
el rango de identificadores de 8-bits se agota; se asigna un nuevo socket; despu茅s de los
siguientes 4 segundos, el segundo rango de identificadores de 8-bits se agota; un tercer socket
es asignado; despu茅s del noveno segundo, identificadores del pool 1 estan disponibles otra vez
- ... . En general, descanso demasiado largo - demasiados recursos consumidos,
descanso demasiado corto - El servidor RADIUS puede tomar los paquetes entrantes como duplicados
y por lo tanto borrarlos.

<item><tt/SocketDeleteTimeout=TIMEOUT_MS/<newline>
Default: <tt/60000/ (miliseconds) - 60 s
<p>
Descanso (milisegundos) para que sockets RADIUS no utilizados sean cerrados. Este es utilizado
conjuntamente con <tt/IdCacheTimeout/ - sockets adicionales
creados durante los per铆odos pesados de carga del GK para atender peticiones
entrantes, son cerrados surante los per铆odos ociosos. 

<item><tt/RequestRetransmissions=NUMBER/<newline>
Default: <tt/2/
<p>
El n煤mero de veces en que una simple petici贸n RADIUS es transmitida a cada 
servidor RADIUS configurado (si no se recibe respuesta). 1 significa
no retransmisi贸n, 2 retransmisi贸n simple, ... . El m茅todo ex谩cto de retransmisi贸n
es definido por el atributo <tt/RoundRobinServers/.

<item><tt/RoundRobinServers=BOOLEAN/<newline>
Default: <tt/1/
<p>
M茅todo de retransmisi贸n de peticiones RADIUS.
<p>
Si se fija en 1, la petici贸n RADIUS
es transmitida de la siguiente manera (Hasta que se recibe respuesta):
<tscreen><verb>
Server #1 Attempt #1, Server #2 Attempt #1, ..., Server #N Attempt #1
...
Server #1 Attempt #RequestRetransmissions, ..., Server #1 Attempt #RequestRetransmissions
</verb></tscreen>
<p>
Si se fija en 0, se preserva la siguiente secuencia:
<tscreen><verb>
Server #1 Attempt #1, ..., Server #1 Attempt #RequestRetransmissions
...
Server #N Attempt #1, ..., Server #N Attempt #RequestRetransmissions
</verb></tscreen>

<item><tt/AppendCiscoAttributes=BOOLEAN/<newline>
Default: <tt/0/
<p>
En el caso de que se fije, un atributo Cisco Vendor Specific RADIUS se incluye
en la petici贸n RADIUS (h323-conf-id,h323-call-origin,h323-call-type).

<item><tt/IncludeTerminalAliases=BOOLEAN/<newline>
Default: <tt/1/
<p>
En el caso de que se fije, un atributo Cisco VSA 'h323-ivr-out' se env铆a co una lista de alias
con que el endpoint se esta registrando (RRQ.m_terminalAlias). Este atributo se utiliza
para proveer un control detallado sobre la lista de alias con los cuales el endpoint 
esta pemitido registrarse. El formato de este atributo es el siguiente:
<tscreen><verb>
	Cisco-AV-Pair = "h323-ivr-out=terminal-alias:" alias [,alias] [;]
Example:
	Cisco-AV-Pair = "h323-ivr-out=terminal-alias:helpdesk,support,77771;"
</verb></tscreen>

<item><tt/UseDialedNumber=BOOLEAN/<newline>
Default: <tt/0/
<p>
Seleccione el tipo de n煤mero Called-Station-Id entre el original (seg煤n lo marcado
por el usuario) - <tt/UseDialedNumber=1/ - y el reescrito - <tt/UseDialedNumber=0/.

</itemize>

<sect1>Section &lsqb;RadAliasAuth&rsqb;
<label id="radaliasauth">
<p>
This section defines configuration settings that enable
RADIUS authentication based on endpoint aliases and/or IP adresses
present in RRQ RAS requests, ARQ RAS request or Q.931 Setup request.
This authentication scheme is useful both for endpoints registered
at the gatekeeper (ARQ,RRQ) and calls from unregistered endpoints (Setup).

<itemize>
<item><tt/Servers=SERVER1[:AUTH_PORT[:ACCT_PORT[:SECRET]]];SERVER2[:AUTH_PORT[:ACCT_PORT[:SECRET]]];.../<newline>
Default: <tt>N/A</tt>
<p>
RADIUS servers to be used for RAS requests authentication.
This list can contain an arbitrary number of servers. The order of servers 
is important, because servers will be queried by the RADIUS module 
in the given order. If no port information is specified, port number from 
<tt/DefaultAuthPort/ will be used. If no secret is set, 
the default shared secret from <tt/SharedSecret/ is used.
Servers can be IP addresses or DNS names.

<descrip>
<tag/Example:/
<tt/Servers=192.168.3.1:1645;192.168.3.2:1812:1813:mysecret;radius.mycompany.com/
</descrip>

<item><tt/LocalInterface=IP_OR_FQDN/<newline>
Default: <tt>N/A</tt>
<p>
Particular local network interface that RADIUS client should
use in order to communicate with RADIUS servers. This parameter
can be useful on NAT machines to restrict number of network
interfaces used for RADIUS communication. By default this value
is empty and allows RADIUS requests to be sent on any (best suitable)
network interface. If you are not sure what you are doing, it is
better to leave this option unset.

<item><tt/RadiusPortRange=10000-11000/<newline>
Default: <tt>N/A</tt>
<p>
By default (if this option is not set) RADIUS client
allocates ports dynamically as specified by the operating system.
If you want to restrict RADIUS client to use ports from
a particular range only - set this parameter.

<item><tt/DefaultAuthPort=PORT_NO/<newline>
Default: <tt>1812</tt>
<p>
Default port number to be used for RADIUS authentication requests
(Access-Request packets), if not overriden by <tt/Servers/ attribute.

<item><tt/SharedSecret=SECRET/<newline>
Default: <tt>N/A (empty string)</tt>
<p>
Secret used to authenticate this GNU GK (NAS client) to RADIUS
server. It should be a cryptographically strong password. This is the default
value used, if no server-specific secret is set in the <tt/Servers/.
If <tt/EncryptAllPasswords/ is enabled, or a <tt/KeyFilled/ variable is defined
in this section, the password is in encrypted form and should be created using
the <tt/addpasswd/ utility.

<item><tt/RequestTimeout=TIMEOUT_MS/<newline>
Default: <tt/2000/ (miliseconds)
<p>
Timeout (miliseconds) for RADIUS server response to a request
sent by GNU GK. If no response is received within this time period,
next RADIUS server is queried.

<item><tt/IdCacheTimeout=TIMEOUT_MS/<newline>
Default: <tt/9000/ (miliseconds)
<p>
Timeout (miliseconds) for RADIUS request 8-bit identifiers to be
unique. If all 8-bit identifier range is exhausted within this period,
new client socket (UDP socket) is allocation by RADIUS module. Let's
take the example: we have approximatelly 60 RRQs/sec - after ca. 4 seconds
8-bit identifiers range gets exhausted - new socket allocated - after next
4 seconds the second 8-bit identifiers range gets exhauted - third socket
allocated - after 9th second identifiers from the pool 1 are available again
- ... . In general, too long timeout - too much resources consumed,
too short timeout - RADIUS server may take incoming packets as duplicated
and therefore drop it.

<item><tt/SocketDeleteTimeout=TIMEOUT_MS/<newline>
Default: <tt/60000/ (miliseconds) - 60 s
<p>
Timeout for unused RADIUS sockets to be closed. It is used
in conjunction with <tt/IdCacheTimeout/ - additional sockets
created during heavy GK load time periods for serving incoming
requests are closed during idle periods.

<item><tt/RequestRetransmissions=NUMBER/<newline>
Default: <tt/2/
<p>
How many times a single RADIUS request is transmissed to every
configured RADIUS server (if no response is received). 1 means
no retransmission, 2 - single retransmission, ... . Exact retransmission
method is defined by <tt/RoundRobinServers/ attribute.

<item><tt/RoundRobinServers=BOOLEAN/<newline>
Default: <tt/1/
<p>
RADIUS requests retransmission method.
<p>
If set to 1, RADIUS request
is transmitted in the following way (until response is received):
<tscreen><verb>
Server #1 Attempt #1, Server #2 Attempt #1, ..., Server #N Attempt #1
...
Server #1 Attempt #RequestRetransmissions, ..., Server #1 Attempt #RequestRetransmissions
</verb></tscreen>
<p>
If set to 0, the following sequence is preserved:
<tscreen><verb>
Server #1 Attempt #1, ..., Server #1 Attempt #RequestRetransmissions
...
Server #N Attempt #1, ..., Server #N Attempt #RequestRetransmissions
</verb></tscreen>

<item><tt/AppendCiscoAttributes=BOOLEAN/<newline>
Default: <tt/1/
<p>
If set, Cisco Vendor Specific RADIUS attibutes are included
in RADIUS requests (h323-conf-id,h323-call-origin,h323-call-type).

<item><tt/IncludeTerminalAliases=BOOLEAN/<newline>
Default: <tt/1/
<p>
If set, Cisco VSA 'h323-ivr-out' attribute is sent with a list of aliases
the endpoint is registering (RRQ.m_terminalAlias). This attribute is provided
in order to provide fine control over the list of aliases the endpoint
is allowed to register with. Format of this attribute is:
<tscreen><verb>
	Cisco-AV-Pair = "h323-ivr-out=terminal-alias:" alias [,alias] [;]
Example:
	Cisco-AV-Pair = "h323-ivr-out=terminal-alias:helpdesk,support,77771;"
</verb></tscreen>

<item><tt/FixedUsername/<newline>
Default: <tt>N/A</tt>
<p>
If this parameter is set, it overwrites a value of User-Name RADIUS attribute
for outgoing RADIUS request. That means every Access-Request will be
authenticated as for user <tt/FixedUsername/.

<item><tt/FixedPassword/<newline>
Default: <tt>N/A</tt>
<p>
If not set, User-Password is a copy of User-Name. For example, if User-Name
is 'john' then User-Password will also be set to 'john'. Setting this
parameter overrides this behavious and User-Password attribute will be
always set to the value of <tt/FixedPassword/.
If <tt/EncryptAllPasswords/ is enabled, or a <tt/KeyFilled/ variable is defined
in this section, the password is in encrypted form and should be created using
the <tt/addpasswd/ utility.

<descrip>
<tag/Example 1:/
<tscreen><verb>
(Neither FixedUsername nor FixedPassword set)
</verb></tscreen>
All endpoints will be authenticated using their alias as the username
and the password. That means, for example, endpoint 'EP1' will be authenticated
with the username 'EP1 and the password 'EP1'.
</descrip>

<descrip>
<tag/Example 2:/
<tscreen><verb>
(FixedUsername not set)
FixedPassword=ppp
</verb></tscreen>
All endpoints will be authenticated using their alias and the password 'ppp'.
</descrip>

<descrip>
<tag/Example 3:/
<tscreen><verb>
FixedUsername=ppp
FixedPassword=ppp
</verb></tscreen>
All endpoints will be authenticated using the username 'ppp'
and the password 'ppp'.
</descrip>

<item><tt/UseDialedNumber=BOOLEAN/<newline>
Default: <tt/0/
<p>
Select Called-Station-Id number type between the original one (as dialed
by the user) - <tt/UseDialedNumber=1/ - and the rewritten one - <tt/UseDialedNumber=0/.

</itemize>

